{"version":3,"sources":["view/History.js"],"names":["Wrapper","styled","div","History","observer","HistoryStore","useStores","useEffect","console","log","reset","className","initialLoad","pageStart","loadMore","find","hasMore","isLoading","useWindow","dataSource","list","renderItem","item","Item","key","id","alt","attributes","fileName","src","url","target","href"],"mappings":"otBAOA,IAAMA,EAAUC,IAAOC,IAAV,KAmCPC,EAAUC,aAAS,WAAO,IACrBC,EAAgBC,cAAhBD,aASP,OAPAE,qBAAU,WAEN,OADAC,QAAQC,IAAI,gBACN,WACFJ,EAAaK,WAEnB,IAGE,oCACI,wDACA,yBAAKC,UAAU,2BACX,kBAAC,IAAD,CACIC,aAAa,EACbC,UAAW,EACXC,SAfD,WAAMT,EAAaU,QAgBlBC,SAAUX,EAAaY,WAAaZ,EAAaW,QACjDE,WAAW,GAEX,kBAAC,IAAD,CACIC,WAAYd,EAAae,KACzBC,WAAY,SAAAC,GAAI,OACZ,kBAAC,IAAKC,KAAN,CAAWC,IAAKF,EAAKG,IACjB,kBAACzB,EAAD,KACI,yBAAKW,UAAU,cAAa,yBAAKe,IAAMJ,EAAKK,WAAWC,SAAUjB,UAAU,MAAMkB,IAAKP,EAAKK,WAAWG,IAAIH,WAAWG,OAEzH,0BAAMnB,UAAU,QAAhB,IAAyBW,EAAKK,WAAWC,UACzC,yBAAKjB,UAAU,QAAO,uBAAIoB,OAAO,SAASC,KAAMV,EAAKK,WAAWG,IAAIH,WAAWG,KAAzD,iCAK5BzB,GAAgBA,EAAaW,SAC3B,yBAAKL,UAAU,0BACX,kBAAC,IAAD,cAYjBR","file":"static/js/8.cd2e447e.chunk.js","sourcesContent":["import React, {useEffect} from \"react\"\r\nimport {observer} from \"mobx-react\"\r\nimport styled from \"styled-components\"\r\nimport useStores from \"../store\"\r\nimport { List, message, Avatar, Spin } from 'antd';\r\nimport InfiniteScroll from 'react-infinite-scroller';\r\n\r\nconst Wrapper = styled.div`\r\npadding: 0 30px;\r\nbackground-color: #fff;\r\nwidth: 100%;\r\ndisplay: flex;\r\njustify-content: space-between;\r\n.title {\r\nfont-size: 16px;\r\nfont-weight: bolder;\r\npadding: 10px;\r\n}\r\n.name{\r\n\r\n}\r\n.link{\r\ndisplay: inline-block;\r\ntext-align: center;\r\n\r\na{\r\ncolor: dodgerblue;\r\npadding: 6px 0;\r\n}\r\n}\r\n.imgWrapper{\r\ndisplay: inline-flex;\r\njustify-content: center;\r\nimg{\r\nwidth: 120px;\r\nheight: 100px;\r\nobject-fit: contain;\r\nborder: 1px solid #ddd;\r\npadding: 6px;\r\n}\r\n}\r\n`;\r\nconst History = observer(() => {\r\n    const {HistoryStore} = useStores()\r\n    const loadMore=()=>{ HistoryStore.find()}\r\n    useEffect(()=>{\r\n        console.log('进入')\r\n        return()=>{\r\n            HistoryStore.reset()\r\n        }\r\n    },[])\r\n\r\n    return (\r\n        <>\r\n            <h4>历史列表</h4>\r\n            <div className=\"demo-infinite-container\">\r\n                <InfiniteScroll\r\n                    initialLoad={true}\r\n                    pageStart={0}\r\n                    loadMore={loadMore}\r\n                    hasMore={!HistoryStore.isLoading && HistoryStore.hasMore}\r\n                    useWindow={true}\r\n                >\r\n                    <List\r\n                        dataSource={HistoryStore.list}\r\n                        renderItem={item => (\r\n                            <List.Item key={item.id}>\r\n                                <Wrapper>\r\n                                    <div className='imgWrapper'><img alt= {item.attributes.fileName} className='img' src={item.attributes.url.attributes.url}></img>\r\n                                    </div>\r\n                                <span className='name'> {item.attributes.fileName}</span>\r\n                                <div className=\"link\"><a  target='_blank' href={item.attributes.url.attributes.url}>点此预览</a></div>\r\n                                </Wrapper>\r\n                            </List.Item>\r\n                        )}\r\n                    >\r\n                        { HistoryStore && HistoryStore.hasMore && (\r\n                            <div className=\"demo-loading-container\">\r\n                                <Spin/>\r\n                            </div>\r\n                        )}\r\n                    </List>\r\n                </InfiniteScroll>\r\n            </div>\r\n\r\n        </>\r\n\r\n\r\n    )\r\n})\r\nexport default History"],"sourceRoot":""}